(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d9f7e"],{"6a30":function(e,a,t){"use strict";t.r(a);t("14d9"),t("5b81");var l=t("7a23"),n=(t("8c56"),t("1494")),c=t("6a92"),o=t("192b");const b={style:{"max-width":"700px",margin:"auto"}},s=Object(l["h"])("h1",null,[Object(l["h"])("strong",null,"Añadir nuevo artista")],-1),r={class:"mb-3"},i=Object(l["h"])("label",{class:"form-label",for:"nombreArtista"},"Nombre",-1),m={class:"mb-3"},u=Object(l["h"])("label",{class:"form-label",for:"bioArtista"},"Biografia",-1),O={class:"mb-3"},j=Object(l["h"])("label",{class:"form-label"},"Banner",-1),d=["src"],p={class:"mb-4"},h=Object(l["h"])("h4",null,[Object(l["h"])("strong",null,"Álbum")],-1),f={class:"mb-3"},g=Object(l["h"])("label",{class:"form-label"},"Nombre",-1),v=["onUpdate:modelValue"],y={class:"mb-3"},w=Object(l["h"])("label",{class:"form-label"},"Fecha de lanzamiento",-1),D=["onUpdate:modelValue"],k={class:"mb-3"},A=Object(l["h"])("label",{class:"form-label"}," Caratula ",-1),C=["onChange"],x=["src"],U={class:"canciones"},V=Object(l["h"])("h5",null,"Canciones",-1),B={class:"form-cancion mb-2"},R={class:"row"},_={class:"col-lg-1 pe-0 align-self-center"},z={class:"col-lg-9 ps-0"},F=["onUpdate:modelValue"],L={class:"col-lg-2"},N=["onUpdate:modelValue"],S=["onClick"],H=Object(l["h"])("hr",null,null,-1),J=["onClick"],E=["onClick"];var G={__name:"AnadirArtista",setup(e){const a=Object(l["F"])({nombre:null,banner:{data:null,tempData:null},biografia:"",albumes:[{nombre:null,fecha_lanzamiento:null,cover:{data:null,tempData:null},canciones:[{nombre:null,duracion:null}]}]});function t(){a.albumes.push({nombre:null,fecha_lanzamiento:null,cover:{data:null,tempData:null},canciones:[{nombre:null,duracion:null}]})}function G(e){a.albumes[e].canciones.push({nombre:null,duracion:null})}async function I(e,t){a.albumes[t].cover.tempData={url:await Object(o["a"])(e),file:e.target.files[0]}}async function P(e){a.banner.tempData={url:await Object(o["a"])(e),file:e.target.files[0]}}async function q(){const e=Object(c["c"])(),t=Object(c["d"])(e,"artistas"),l=Object(c["d"])(t,a.nombre.replaceAll(" ","-").toLowerCase()),o=a.albumes.map(async(a,t)=>{const n=Object(c["d"])(l,a.cover.tempData.file.name);await Object(c["e"])(n,a.cover.tempData.file);const o=await Object(c["a"])(Object(c["d"])(e,n)),b=await Object(c["b"])(n);a.cover.data={name:b.name,url:o}});await Promise.all(o).then(async()=>{const t=async()=>{const t=Object(c["d"])(l,"banner/"+a.banner.tempData.file.name);await Object(c["e"])(t,a.banner.tempData.file);const n=await Object(c["a"])(Object(c["d"])(e,t)),o=await Object(c["b"])(t);a.banner.data={name:o.name,url:n}};await t(),console.log("Imagenes subidas"),delete a.banner.tempData,a.albumes.forEach(e=>{delete e.cover.tempData}),a.slug=a.nombre.replaceAll(" ","-").toLowerCase(),await Object(n["a"])(Object(n["b"])(apolusFirebase,"artistas"),a),console.log("Artista agregado con exito.")})}return(e,n)=>(Object(l["B"])(),Object(l["g"])("div",b,[s,Object(l["h"])("form",null,[Object(l["h"])("div",r,[i,Object(l["R"])(Object(l["h"])("input",{class:"form-control",type:"text",id:"nombreArtista","onUpdate:modelValue":n[0]||(n[0]=e=>a.nombre=e)},null,512),[[l["O"],a.nombre]])]),Object(l["h"])("div",m,[u,Object(l["R"])(Object(l["h"])("textarea",{class:"form-control",type:"text",id:"bioArtista","onUpdate:modelValue":n[1]||(n[1]=e=>a.biografia=e)},"\r\n      ",512),[[l["O"],a.biografia]])]),Object(l["h"])("div",O,[j,Object(l["h"])("input",{class:"form-control",type:"file",onChange:n[2]||(n[2]=e=>P(e))},null,32),a.banner.tempData?(Object(l["B"])(),Object(l["g"])("img",{key:0,class:"img-fluid my-3",src:a.banner.tempData.url},null,8,d)):Object(l["f"])("",!0)]),(Object(l["B"])(!0),Object(l["g"])(l["a"],null,Object(l["H"])(a.albumes,(e,a)=>(Object(l["B"])(),Object(l["g"])("div",p,[h,Object(l["h"])("div",f,[g,Object(l["R"])(Object(l["h"])("input",{class:"form-control",type:"text","onUpdate:modelValue":a=>e.nombre=a},null,8,v),[[l["O"],e.nombre]])]),Object(l["h"])("div",y,[w,Object(l["R"])(Object(l["h"])("input",{class:"form-control",type:"text","onUpdate:modelValue":a=>e.fecha_lanzamiento=a},null,8,D),[[l["O"],e.fecha_lanzamiento]])]),Object(l["h"])("div",k,[A,Object(l["h"])("input",{class:"form-control",type:"file",onChange:e=>I(e,a)},null,40,C)]),e.cover.tempData?(Object(l["B"])(),Object(l["g"])("img",{key:0,class:"img-fluid my-3",src:e.cover.tempData.url},null,8,x)):Object(l["f"])("",!0),Object(l["h"])("div",U,[V,(Object(l["B"])(!0),Object(l["g"])(l["a"],null,Object(l["H"])(e.canciones,(e,a)=>(Object(l["B"])(),Object(l["g"])("div",B,[Object(l["h"])("div",R,[Object(l["h"])("div",_,[Object(l["h"])("span",null,Object(l["L"])(a+1),1)]),Object(l["h"])("div",z,[Object(l["R"])(Object(l["h"])("input",{class:"form-control",type:"text",placeholder:"Nombre","onUpdate:modelValue":a=>e.nombre=a},null,8,F),[[l["O"],e.nombre]])]),Object(l["h"])("div",L,[Object(l["R"])(Object(l["h"])("input",{class:"form-control",type:"text",placeholder:"Duración","onUpdate:modelValue":a=>e.duracion=a},null,8,N),[[l["O"],e.duracion]])])])]))),256)),Object(l["h"])("button",{class:"btn btn-secondary btn-sm ms-auto d-block",onClick:Object(l["S"])(e=>G(a),["prevent"])}," Añadir nueva canción",8,S)]),H]))),256)),Object(l["h"])("button",{class:"btn btn-secondary btn-md ms-auto d-block",onClick:Object(l["S"])(t,["prevent"])}," Añadir nuevo álbum",8,J),Object(l["h"])("button",{class:"btn btn-primary ms-auto d-block mt-5",onClick:Object(l["S"])(q,["prevent"]),type:"submit"},"Guardar Artista",8,E)])]))}};const I=G;a["default"]=I}}]);
//# sourceMappingURL=chunk-2d0d9f7e.548379c2.js.map